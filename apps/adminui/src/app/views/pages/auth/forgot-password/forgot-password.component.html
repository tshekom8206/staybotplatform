<div class="login-page-wrapper">
  <div class="cards-container">
    <!-- Left Card - Forgot Password Form -->
    <div class="login-card">
      <div class="login-form-wrapper">
        <!-- Logo -->
        <div class="logo-section">
          <div class="logo-container">
            <div class="logo-icon">
              <span>üè®</span>
            </div>
            <span class="logo-text"
              >STAY<span class="logo-accent">BOT</span></span
            >
          </div>
        </div>

        <!-- Title -->
        <div class="welcome-section">
          <h1 class="welcome-title">Forgot Password?</h1>
          <p class="welcome-description">
            Enter your email address and we'll send you a verification code to
            reset your password.
          </p>
        </div>

        <!-- Form -->
        <form
          [formGroup]="forgotPasswordForm"
          (ngSubmit)="onSubmit()"
          class="login-form"
          *ngIf="!success"
        >
          <!-- Email Field -->
          <div class="form-group">
            <label for="email" class="form-label">Email Address</label>
            <div class="input-group">
              <div class="input-icon">
                <i class="feather icon-mail"></i>
              </div>
              <input
                type="email"
                id="email"
                formControlName="email"
                class="form-control modern-input"
                placeholder="Enter your email address"
              />
            </div>
            <div
              *ngIf="f['email'].invalid && f['email'].touched"
              class="error-message"
            >
              <small *ngIf="f['email'].errors?.['required']"
                >Email is required</small
              >
              <small *ngIf="f['email'].errors?.['email']"
                >Please enter a valid email</small
              >
            </div>
          </div>

          <!-- Error Message -->
          <div *ngIf="error" class="alert alert-danger modern-alert">
            {{ error }}
          </div>

          <!-- Send Code Button -->
          <button
            type="submit"
            class="btn btn-primary modern-btn"
            [disabled]="loading || forgotPasswordForm.invalid"
          >
            <span
              *ngIf="loading"
              class="spinner-border spinner-border-sm me-2"
            ></span>
            {{ loading ? "Sending..." : "Send Verification Code" }}
          </button>
        </form>

        <!-- Success Message -->
        <div *ngIf="success" class="success-section">
          <div class="success-icon">
            <i class="feather icon-check-circle"></i>
          </div>
          <h2 class="success-title">Code Sent!</h2>
          <p class="success-description">
            We've sent a verification code to
            <strong>{{ forgotPasswordForm.get("email")?.value }}</strong
            >. Please check your email and click the button below to verify.
          </p>

          <div class="success-actions">
            <button
              type="button"
              class="btn btn-primary modern-btn"
              (click)="router.navigate(['/auth/verify-otp'])"
            >
              Verify Code
            </button>

            <button
              type="button"
              class="btn btn-outline-secondary resend-btn"
              (click)="resendCode()"
            >
              Resend Code
            </button>
          </div>
        </div>

        <!-- Back to Login -->
        <div class="back-to-login">
          <a routerLink="/auth/login" class="back-link">
            <i class="feather icon-arrow-left"></i>
            Back to Login
          </a>
        </div>
      </div>
    </div>

    <!-- Right Card - Promotional Section -->
    <div class="promo-card">
      <div class="promo-content">
        <!-- Headline -->
        <h2 class="promo-title">Secure Password Reset</h2>
        <p class="promo-subtitle">Your account security is our priority</p>

        <!-- Features -->
        <div class="features-list">
          <div class="feature-item">
            <div class="feature-icon">
              <i class="feather icon-shield"></i>
            </div>
            <div class="feature-text">
              <h4>Secure Process</h4>
              <p>
                We use encrypted email verification to ensure your account stays
                secure.
              </p>
            </div>
          </div>

          <div class="feature-item">
            <div class="feature-icon">
              <i class="feather icon-clock"></i>
            </div>
            <div class="feature-text">
              <h4>Quick & Easy</h4>
              <p>
                Reset your password in just a few minutes with our streamlined
                process.
              </p>
            </div>
          </div>

          <div class="feature-item">
            <div class="feature-icon">
              <i class="feather icon-help-circle"></i>
            </div>
            <div class="feature-text">
              <h4>Need Help?</h4>
              <p>
                Contact our support team if you're having trouble accessing your
                account.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
